(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"1bab":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("cebe"),o=n.n(i),a=n("1af2"),s=n.n(a);function r(t){var e=o.a.create({baseURL:"http://timemeetyou.com:8889/api/private/v1",timeout:5e3});return e.interceptors.request.use((function(t){return s.a.start(),t.headers.Authorization=window.sessionStorage.getItem("token"),t}),(function(t){})),e.interceptors.response.use((function(t){return s.a.done(),t}),(function(t){})),e(t)}},"4ffd":function(t,e,n){t.exports=n.p+"img/logo.b5a855ee.png"},"68b3":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v(" Welcome ")])},o=[],a={name:"HomeWelcome"},s=a,r=n("2877"),l=Object(r["a"])(s,i,o,!1,null,"6cfe611c",null);e["default"]=l.exports},"9d70":function(t,e,n){},a120:function(t,e,n){},b3d7:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",{staticClass:"home"},[i("el-header",{staticClass:"home-header"},[i("div",[i("img",{attrs:{src:n("4ffd"),alt:""}}),i("span",[t._v("OA辅助管理系统")])]),i("div",[i("el-button",{attrs:{type:"info"},on:{click:t.logout}},[t._v("退出")])],1)]),i("el-container",[i("el-aside",{attrs:{width:t.isCollapse?"64px":"200px"}},[i("div",{staticClass:"aside-button",on:{click:t.isCollapseBtn}},[t._v("|||")]),i("el-menu",{attrs:{"background-color":"#333744","text-color":"#fff","active-text-color":"#409EFF","unique-opened":!0,collapse:t.isCollapse,"collapse-transition":!1,router:!0,"default-active":t.defaultActive}},t._l(t.listData,(function(e){return i("el-submenu",{key:e.id,attrs:{index:"/"+e.path}},[i("template",{slot:"title"},[i("i",{class:t.listIcon[e.id]}),i("span",[t._v(t._s(e.authName))])]),t._l(e.children,(function(e){return i("el-menu-item",{key:e.id,attrs:{index:"/"+e.path},on:{click:function(n){return t.changeDefaultActive("/"+e.path)}}},[i("i",{staticClass:"el-icon-menu"}),i("span",[t._v(t._s(e.authName))])])}))],2)})),1)],1),i("el-main",[i("router-view")],1)],1)],1)},o=[],a=n("1bab");function s(){return Object(a["a"])({url:"/menus",method:"get"})}var r={name:"Home",data:function(){return{listData:[],listIcon:{125:"iconfont icon-users",103:"iconfont icon-tijikongjian",101:"iconfont icon-shangpin",102:"iconfont icon-danju",145:"iconfont icon-baobiao"},isCollapse:!1,defaultActive:""}},created:function(){this.getHomeList(),this.defaultActive=window.sessionStorage.getItem("defaultActive")},methods:{logout:function(){window.sessionStorage.clear(),this.$router.push("/login")},isCollapseBtn:function(){this.isCollapse=!this.isCollapse},changeDefaultActive:function(t){window.sessionStorage.setItem("defaultActive",t),this.defaultActive=t},getHomeList:function(){var t=this;s().then((function(e){if(e.data.meta.status>=300)return t.$message.error(e.data.meta.msg);t.listData=e.data.data})).catch((function(t){}))}}},l=r,c=(n("d1bc"),n("2877")),u=Object(c["a"])(l,i,o,!1,null,"a6f6cca8",null);e["default"]=u.exports},d1bc:function(t,e,n){"use strict";var i=n("a120"),o=n.n(i);o.a},e75e:function(t,e,n){t.exports=n.p+"img/2018072993152_Uu2JV.7caa6148.jpeg"},ede4:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("div",{staticClass:"login-box"},[t._m(0),n("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:t.loginForm,rules:t.loginRules}},[n("el-form-item",{attrs:{prop:"username"}},[n("el-input",{attrs:{"prefix-icon":"iconfont icon-user",placeholder:"请输入工号"},model:{value:t.loginForm.username,callback:function(e){t.$set(t.loginForm,"username",e)},expression:"loginForm.username"}})],1),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{"prefix-icon":"iconfont icon-3702mima",placeholder:"请输入密码",type:"password"},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}})],1),n("el-form-item",{staticClass:"btns"},[n("el-button",{attrs:{type:"primary"},on:{click:t.loginValidate}},[t._v("登录")]),n("el-button",{attrs:{type:"info"},on:{click:t.loginFormReset}},[t._v("重置")])],1)],1)],1)])},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login-head"},[i("img",{attrs:{src:n("e75e"),alt:""}})])}],a=n("1bab");function s(t,e){return Object(a["a"])({url:"/login",method:"post",data:{username:t,password:e}})}var r={name:"Login",data:function(){return{loginForm:{username:"admin",password:"123456"},loginRules:{username:[{required:!0,message:"请输入工号",trigger:"blur"},{min:3,max:10,message:"长度在 3 到 10 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:4,max:16,message:"长度在 4 到 16 个字符",trigger:"blur"}]}}},methods:{loginFormReset:function(){this.$refs.loginForm.resetFields()},loginValidate:function(){var t=this;this.$refs.loginForm.validate((function(e){if(!e)return!1;t.login()}))},login:function(){var t=this;s(this.loginForm.username,this.loginForm.password).then((function(e){if(e.data.meta.status>=300)return t.$message.error(e.data.meta.msg),!1;t.$message.success(e.data.meta.msg),window.sessionStorage.setItem("token",e.data.data.token),t.$router.push("/home")})).catch((function(t){}))}}},l=r,c=(n("fc33"),n("2877")),u=Object(c["a"])(l,i,o,!1,null,"7b08b9fe",null);e["default"]=u.exports},fc33:function(t,e,n){"use strict";var i=n("9d70"),o=n.n(i);o.a}}]);
//# sourceMappingURL=login.128c2eca.js.map