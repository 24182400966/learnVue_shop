{"version":3,"sources":["webpack:///./src/network/request.js","webpack:///./src/views/users/Users.vue?f132","webpack:///./src/views/users/usersChildren/usersBreadcrumb/UsersBreadcrumb.vue?7d06","webpack:///src/views/users/usersChildren/usersBreadcrumb/UsersBreadcrumb.vue","webpack:///./src/views/users/usersChildren/usersBreadcrumb/UsersBreadcrumb.vue?e559","webpack:///./src/views/users/usersChildren/usersBreadcrumb/UsersBreadcrumb.vue","webpack:///./src/views/users/usersChildren/usersFunc/UsersFunc.vue?c24c","webpack:///./src/views/users/usersChildren/usersFunc/AddUserDialog.vue?ce73","webpack:///./src/network/users/Users.js","webpack:///src/views/users/usersChildren/usersFunc/AddUserDialog.vue","webpack:///./src/views/users/usersChildren/usersFunc/AddUserDialog.vue?0243","webpack:///./src/views/users/usersChildren/usersFunc/AddUserDialog.vue","webpack:///src/views/users/usersChildren/usersFunc/UsersFunc.vue","webpack:///./src/views/users/usersChildren/usersFunc/UsersFunc.vue?5078","webpack:///./src/views/users/usersChildren/usersFunc/UsersFunc.vue","webpack:///src/views/users/Users.vue","webpack:///./src/views/users/Users.vue?9aa0","webpack:///./src/views/users/Users.vue"],"names":["request","config","instance","axios","create","baseURL","timeout","interceptors","use","NProgress","start","headers","Authorization","window","sessionStorage","getItem","error","response","done","render","_vm","this","_h","$createElement","_c","_self","staticClass","on","queryClick","attrs","usersList","scopedSlots","_u","key","fn","scope","$event","changeRowStateListen","row","model","value","callback","$$v","$set","expression","update","id","deleteUser","pageNum","total","handleSizeChange","handleCurrentChange","updateUserVisible","updateUserClose","ref","updateUserForm","updateUserrules","slot","_v","updateUser","staticRenderFns","path","name","component","query","addUserClick","addUserVisible","addUserCancel","addUserForm","addUserrules","addUser","getUsersList","pagenum","pagesize","url","method","params","changeRowState","uId","type","addUserPost","username","password","email","mobile","data","getUserFromId","updateUserSub","deleteUserById","checkEmail","regEmail","test","cb","Error","checkMobile","regMobile","methods","$refs","resetFields","validate","res","meta","status","components","AddUserDialog","$emit","addUserDialog","UsersBreadcrumb","UsersFunc","pageSize","created","$bus","$on","beforeDestroy","$off","$confirm","confirmButtonText","cancelButtonText","mg_state"],"mappings":"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","file":"js/users.5e5dd46d.js","sourcesContent":["import axios from 'axios'\r\n// 引入nprogress\r\nimport NProgress from 'nprogress'\r\n\r\nexport function request (config) {\r\n  const instance = axios.create({\r\n    baseURL: 'http://timemeetyou.com:8889/api/private/v1',\r\n    timeout: 5000\r\n  })\r\n\r\n  instance.interceptors.request.use((config) => {\r\n    NProgress.start()\r\n    // 添加验证请求头\r\n    config.headers.Authorization = window.sessionStorage.getItem('token')\r\n    return config\r\n  }, error => {\r\n    console.log(error)\r\n  })\r\n\r\n  instance.interceptors.response.use((config) => {\r\n    NProgress.done()\r\n    return config\r\n  }, error => {\r\n    console.log(error)\r\n  })\r\n\r\n  return instance(config)\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"users\"},[_c('users-breadcrumb'),_c('el-card',{staticClass:\"box-card\"},[_c('users-func',{on:{\"queryClick\":_vm.queryClick}}),_c('el-table',{attrs:{\"data\":_vm.usersList,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"用户名\"}}),_c('el-table-column',{attrs:{\"prop\":\"email\",\"label\":\"邮箱\"}}),_c('el-table-column',{attrs:{\"prop\":\"mobile\",\"label\":\"电话\"}}),_c('el-table-column',{attrs:{\"prop\":\"role_name\",\"label\":\"角色\"}}),_c('el-table-column',{attrs:{\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{on:{\"change\":function($event){return _vm.changeRowStateListen(scope.row)}},model:{value:(scope.row.mg_state),callback:function ($$v) {_vm.$set(scope.row, \"mg_state\", $$v)},expression:\"scope.row.mg_state\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"180px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.update(scope.row.id)}}}),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.deleteUser(scope.row.id)}}}),_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"分配角色\",\"placement\":\"top\",\"enterable\":false}},[_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-setting\",\"size\":\"mini\"}})],1)]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.pageNum,\"page-sizes\":[1, 2, 5, 10],\"page-size\":10,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{attrs:{\"title\":\"修改用户\",\"visible\":_vm.updateUserVisible,\"width\":\"60%\"},on:{\"update:visible\":function($event){_vm.updateUserVisible=$event},\"close\":_vm.updateUserClose}},[_c('el-form',{ref:\"updateUserForm\",attrs:{\"model\":_vm.updateUserForm,\"rules\":_vm.updateUserrules,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.updateUserForm.username),callback:function ($$v) {_vm.$set(_vm.updateUserForm, \"username\", $$v)},expression:\"updateUserForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.updateUserForm.email),callback:function ($$v) {_vm.$set(_vm.updateUserForm, \"email\", $$v)},expression:\"updateUserForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"电话\",\"prop\":\"mobile\"}},[_c('el-input',{model:{value:(_vm.updateUserForm.mobile),callback:function ($$v) {_vm.$set(_vm.updateUserForm, \"mobile\", $$v)},expression:\"updateUserForm.mobile\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.updateUserVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.updateUser}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"用户管理\")]),_c('el-breadcrumb-item',[_vm._v(\"用户列表\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!--      面包屑导航-->\r\n  <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n    <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n    <el-breadcrumb-item>用户管理</el-breadcrumb-item>\r\n    <el-breadcrumb-item>用户列表</el-breadcrumb-item>\r\n  </el-breadcrumb>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Breadcrumb'\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UsersBreadcrumb.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UsersBreadcrumb.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UsersBreadcrumb.vue?vue&type=template&id=84132084&scoped=true&\"\nimport script from \"./UsersBreadcrumb.vue?vue&type=script&lang=js&\"\nexport * from \"./UsersBreadcrumb.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"84132084\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"clearable\":\"\"},on:{\"clear\":_vm.queryClick},model:{value:(_vm.query),callback:function ($$v) {_vm.query=$$v},expression:\"query\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.queryClick},slot:\"append\"})],1)],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addUserClick}},[_vm._v(\"添加用户\")])],1),_c('add-user-dialog',{ref:\"addUserDialog\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":\"添加用户\",\"visible\":_vm.addUserVisible,\"width\":\"60%\"},on:{\"update:visible\":function($event){_vm.addUserVisible=$event},\"close\":_vm.addUserCancel}},[_c('el-form',{ref:\"addUserForm\",attrs:{\"model\":_vm.addUserForm,\"rules\":_vm.addUserrules,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.addUserForm.username),callback:function ($$v) {_vm.$set(_vm.addUserForm, \"username\", $$v)},expression:\"addUserForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.addUserForm.password),callback:function ($$v) {_vm.$set(_vm.addUserForm, \"password\", $$v)},expression:\"addUserForm.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.addUserForm.email),callback:function ($$v) {_vm.$set(_vm.addUserForm, \"email\", $$v)},expression:\"addUserForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"电话\",\"prop\":\"mobile\"}},[_c('el-input',{model:{value:(_vm.addUserForm.mobile),callback:function ($$v) {_vm.$set(_vm.addUserForm, \"mobile\", $$v)},expression:\"addUserForm.mobile\"}})],1)],1),_c('span',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.addUserCancel}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addUser}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { request } from '../request'\r\n\r\nexport function getUsersList (pagenum, pagesize, query) {\r\n  return request({\r\n    url: '/users',\r\n    method: 'get',\r\n    params: {\r\n      query: query,\r\n      pagenum: pagenum,\r\n      pagesize: pagesize\r\n    }\r\n  })\r\n}\r\n\r\nexport function changeRowState (uId, type) {\r\n  return request({\r\n    url: 'users/' + uId + '/state/' + type,\r\n    method: 'put'\r\n  })\r\n}\r\n\r\nexport function addUserPost (username, password, email, mobile) {\r\n  return request({\r\n    url: 'users',\r\n    method: 'post',\r\n    data: {\r\n      username: username,\r\n      password: password,\r\n      email: email,\r\n      mobile: mobile\r\n    }\r\n  })\r\n}\r\n\r\nexport function getUserFromId (id) {\r\n  return request({\r\n    url: 'users/' + id,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function updateUserSub (id, email, mobile) {\r\n  return request({\r\n    url: 'users/' + id,\r\n    method: 'put',\r\n    data: {\r\n      email: email,\r\n      mobile: mobile\r\n    }\r\n  })\r\n}\r\n\r\nexport function deleteUserById (id) {\r\n  return request({\r\n    url: 'users/' + id,\r\n    method: 'delete'\r\n  })\r\n}\r\n","<template>\r\n  <!--      添加用户对话框-->\r\n  <el-dialog\r\n    title=\"添加用户\"\r\n    :visible.sync=\"addUserVisible\"\r\n    width=\"60%\"\r\n    @close=\"addUserCancel\">\r\n    <el-form :model=\"addUserForm\" :rules=\"addUserrules\" ref=\"addUserForm\" label-width=\"70px\">\r\n      <el-form-item label=\"用户名\" prop=\"username\">\r\n        <el-input v-model=\"addUserForm.username\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"密码\" prop=\"password\">\r\n        <el-input v-model=\"addUserForm.password\" type=\"password\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"邮箱\" prop=\"email\">\r\n        <el-input v-model=\"addUserForm.email\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"电话\" prop=\"mobile\">\r\n        <el-input v-model=\"addUserForm.mobile\"></el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n    <span slot=\"footer\">\r\n          <el-button @click=\"addUserCancel\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"addUser\">确 定</el-button>\r\n        </span>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { addUserPost } from '../../../../network/users/Users'\r\n\r\nexport default {\r\n  name: 'addUserDialog',\r\n  data () {\r\n    var checkEmail = (rule, value, cb) => {\r\n      // 验证邮件的正则表达式\r\n      const regEmail = /^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(\\.[a-zA-Z0-9_-])+/\r\n      if (regEmail.test(value)) {\r\n        // 合法的邮箱\r\n        return cb()\r\n      }\r\n      cb(new Error('请输入一个合法的邮箱地址'))\r\n    }\r\n\r\n    var checkMobile = (rule, value, cb) => {\r\n      // 验证邮件的正则表达式\r\n      const regMobile = /^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/\r\n      if (regMobile.test(value)) {\r\n        // 合法的邮箱\r\n        return cb()\r\n      }\r\n      cb(new Error('请输入一个合法的手机号码'))\r\n    }\r\n\r\n    return {\r\n      addUserVisible: false,\r\n      // 添加用户的表单数据\r\n      addUserForm: {\r\n        username: '',\r\n        password: '',\r\n        email: '',\r\n        mobile: ''\r\n      },\r\n      // 添加用户的input验证\r\n      addUserrules: {\r\n        username: [\r\n          { required: true, message: '请输入用户名', trigger: 'blur' },\r\n          { min: 3, max: 10, message: '长度在 3 到 10 个字符', trigger: 'blur' }\r\n        ],\r\n        password: [\r\n          { required: true, message: '请输入密码', trigger: 'blur' },\r\n          { min: 6, max: 16, message: '长度在 6 到 16 个字符', trigger: 'blur' }\r\n        ],\r\n        email: [\r\n          { required: true, message: '请输入邮箱', trigger: 'blur' },\r\n          { validator: checkEmail, trigger: 'blur' }\r\n        ],\r\n        mobile: [\r\n          { required: true, message: '请输入电话号码', trigger: 'blur' },\r\n          { validator: checkMobile, trigger: 'blur' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // 添加用户触发窗口\r\n    addUserClick () {\r\n      this.addUserVisible = true\r\n    },\r\n    // 取消添加用户\r\n    addUserCancel () {\r\n      this.addUserVisible = false\r\n      this.$refs.addUserForm.resetFields()\r\n    },\r\n    // \"添加用户\"中的确定按钮\r\n    addUser () {\r\n      this.$refs.addUserForm.validate(validate => {\r\n        if (!validate) return false\r\n        this.addUserPost(this.addUserForm.username, this.addUserForm.password, this.addUserForm.email, this.addUserForm.mobile)\r\n        this.addUserVisible = false\r\n      })\r\n    },\r\n    // 添加用户{网络请求}\r\n    addUserPost (username, password, email, mobile) {\r\n      addUserPost(username, password, email, mobile).then(res => {\r\n        console.log(res)\r\n        if (res.data.meta.status !== 201) return this.$message.error(res.data.meta.msg)\r\n        this.$message.success(res.data.meta.msg)\r\n        this.$bus.$emit('freshClick')\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddUserDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddUserDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddUserDialog.vue?vue&type=template&id=34632072&scoped=true&\"\nimport script from \"./AddUserDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./AddUserDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"34632072\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <el-row :gutter=\"20\">\r\n    <el-col :span=\"8\">\r\n      <!--搜索框-->\r\n      <el-input placeholder=\"请输入内容\" v-model=\"query\" clearable @clear=\"queryClick\">\r\n        <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"queryClick\"></el-button>\r\n      </el-input>\r\n    </el-col>\r\n    <el-col :span=\"4\">\r\n      <!--添加用户-->\r\n      <el-button type=\"primary\" @click=\"addUserClick\">添加用户</el-button>\r\n    </el-col>\r\n    <!--添加用户弹出框-->\r\n    <add-user-dialog ref=\"addUserDialog\"></add-user-dialog>\r\n  </el-row>\r\n</template>\r\n\r\n<script>\r\nimport AddUserDialog from './AddUserDialog'\r\nexport default {\r\n  name: 'UsersFunc',\r\n  components: {\r\n    AddUserDialog\r\n  },\r\n  data () {\r\n    return {\r\n      query: '',\r\n      // 添加用户对话框状态\r\n      addUserVisible: false\r\n    }\r\n  },\r\n  methods: {\r\n    // 搜索按钮\r\n    queryClick () {\r\n      this.$emit('queryClick', this.query)\r\n    },\r\n    // 添加用户按钮\r\n    addUserClick () {\r\n      // 调用子组件方法\r\n      this.$refs.addUserDialog.addUserClick()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UsersFunc.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UsersFunc.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UsersFunc.vue?vue&type=template&id=21adb386&scoped=true&\"\nimport script from \"./UsersFunc.vue?vue&type=script&lang=js&\"\nexport * from \"./UsersFunc.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"21adb386\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"users\">\r\n<!--      面包屑导航-->\r\n      <users-breadcrumb></users-breadcrumb>\r\n<!--      卡片视图区域-->\r\n      <el-card class=\"box-card\">\r\n<!--        顶部功能栏-->\r\n        <users-func @queryClick = \"queryClick\"></users-func>\r\n<!--        用户列表区域-->\r\n        <el-table :data=\"usersList\" border stripe>\r\n          <el-table-column type=\"index\"></el-table-column>\r\n          <el-table-column prop=\"username\" label=\"用户名\"></el-table-column>\r\n          <el-table-column prop=\"email\" label=\"邮箱\"></el-table-column>\r\n          <el-table-column prop=\"mobile\" label=\"电话\"></el-table-column>\r\n          <el-table-column prop=\"role_name\" label=\"角色\"></el-table-column>\r\n<!--          列表状态栏-->\r\n          <el-table-column label=\"状态\">\r\n            <template slot-scope=\"scope\">\r\n              <el-switch v-model=\"scope.row.mg_state\" @change=\"changeRowStateListen(scope.row)\"></el-switch>\r\n            </template>\r\n          </el-table-column>\r\n<!--          列表操作栏-->\r\n          <el-table-column label=\"操作\" width=\"180px\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\" @click=\"update(scope.row.id)\"></el-button>\r\n              <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" @click=\"deleteUser(scope.row.id)\"></el-button>\r\n              <el-tooltip effect=\"dark\" content=\"分配角色\" placement=\"top\" :enterable=\"false\">\r\n                <el-button type=\"warning\" icon=\"el-icon-setting\" size=\"mini\"></el-button>\r\n              </el-tooltip>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <!--        分页区域-->\r\n        <el-pagination\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"pageNum\"\r\n          :page-sizes=\"[1, 2, 5, 10]\"\r\n          :page-size=\"10\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"total\">\r\n        </el-pagination>\r\n      </el-card>\r\n\r\n<!--      修改用户对话框-->\r\n      <el-dialog\r\n        title=\"修改用户\"\r\n        :visible.sync=\"updateUserVisible\"\r\n        width=\"60%\"\r\n        @close=\"updateUserClose\">\r\n        <el-form :model=\"updateUserForm\" :rules=\"updateUserrules\" ref=\"updateUserForm\" label-width=\"70px\">\r\n            <el-form-item label=\"用户名\" prop=\"username\">\r\n              <el-input v-model=\"updateUserForm.username\" disabled></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"邮箱\" prop=\"email\">\r\n              <el-input v-model=\"updateUserForm.email\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"电话\" prop=\"mobile\">\r\n              <el-input v-model=\"updateUserForm.mobile\"></el-input>\r\n            </el-form-item>\r\n        </el-form>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"updateUserVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"updateUser\">确 定</el-button>\r\n        </span>\r\n      </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport UsersBreadcrumb from './usersChildren/usersBreadcrumb/UsersBreadcrumb'\r\nimport UsersFunc from './usersChildren/usersFunc/UsersFunc'\r\n// 网络接口\r\nimport { changeRowState, deleteUserById, getUserFromId, getUsersList, updateUserSub } from '../../network/users/Users'\r\n\r\nexport default {\r\n  name: 'Users',\r\n  components: {\r\n    UsersBreadcrumb,\r\n    UsersFunc\r\n  },\r\n  data () {\r\n    var checkEmail = (rule, value, cb) => {\r\n      // 验证邮件的正则表达式\r\n      const regEmail = /^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(\\.[a-zA-Z0-9_-])+/\r\n      if (regEmail.test(value)) {\r\n        // 合法的邮箱\r\n        return cb()\r\n      }\r\n      cb(new Error('请输入一个合法的邮箱地址'))\r\n    }\r\n\r\n    var checkMobile = (rule, value, cb) => {\r\n      // 验证邮件的正则表达式\r\n      const regMobile = /^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/\r\n      if (regMobile.test(value)) {\r\n        // 合法的邮箱\r\n        return cb()\r\n      }\r\n      cb(new Error('请输入一个合法的手机号码'))\r\n    }\r\n\r\n    return {\r\n      usersList: [],\r\n      // 查询服务基础参数\r\n      query: '',\r\n      pageNum: 1,\r\n      pageSize: 10,\r\n      total: 0,\r\n      updateUserVisible: false,\r\n      // 修改用户的表单数据\r\n      updateUserForm: {\r\n        id: '',\r\n        username: '',\r\n        email: '',\r\n        mobile: ''\r\n      },\r\n      // 修改用户数据的input验证\r\n      updateUserrules: {\r\n        email: [\r\n          { required: true, message: '请输入邮箱', trigger: 'blur' },\r\n          { validator: checkEmail, trigger: 'blur' }\r\n        ],\r\n        mobile: [\r\n          { required: true, message: '请输入电话号码', trigger: 'blur' },\r\n          { validator: checkMobile, trigger: 'blur' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.getUsersList()\r\n    this.$bus.$on('freshClick', () => {\r\n      console.log(this)\r\n      this.getUsersList()\r\n    })\r\n  },\r\n  beforeDestroy () {\r\n    this.$bus.$off('freshClick')\r\n  },\r\n  methods: {\r\n    // 显示多少条\r\n    handleSizeChange (pageSize) {\r\n      this.pageSize = pageSize\r\n      this.getUsersList()\r\n    },\r\n    // 跳到第几页\r\n    handleCurrentChange (pageNum) {\r\n      this.pageNum = pageNum\r\n      this.getUsersList()\r\n    },\r\n    // 状态按钮\r\n    changeRowStateListen (row) {\r\n      this.changeRowState(row)\r\n    },\r\n    // 修改用户按钮\r\n    update (id) {\r\n      console.log(id)\r\n      this.getUserFromId(id)\r\n      this.updateUserVisible = true\r\n    },\r\n    // 删除用户按钮\r\n    deleteUser (id) {\r\n      this.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.deleteUserById(id)\r\n      }).catch(() => {\r\n        this.$message.info('已取消删除')\r\n      })\r\n    },\r\n    // 搜索按钮\r\n    queryClick (query) {\r\n      this.query = query\r\n      // 修正页码定位，防止修改后页码乱窜\r\n      this.pageNum = 1\r\n      this.pageSize = 10\r\n      this.getUsersList(1, 10)\r\n    },\r\n    // \"修改用户\"弹出框关闭监听\r\n    updateUserClose () {\r\n      this.$refs.updateUserForm.resetFields()\r\n    },\r\n    // \"修改用户\"中的确定按钮\r\n    updateUser () {\r\n      this.$refs.updateUserForm.validate(validate => {\r\n        if (!validate) return false\r\n        this.updateUserSub(this.updateUserForm.id, this.updateUserForm.email, this.updateUserForm.mobile)\r\n      })\r\n    },\r\n    // 更新用户状态{网络请求}\r\n    changeRowState (row) {\r\n      changeRowState(row.id, row.mg_state).then(res => {\r\n        if (res.data.meta.status !== 200) {\r\n          row.mg_state = !row.mg_state\r\n          return this.$message.error(res.data.meta.msg)\r\n        }\r\n        this.$message.success(res.data.meta.msg)\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n    },\r\n    // 更新用户{网络请求}\r\n    updateUserSub (id, email, mobile) {\r\n      updateUserSub(id, email, mobile).then(res => {\r\n        console.log(res)\r\n        if (res.data.meta.status !== 200) return this.$message.error(res.data.meta.msg)\r\n        this.$message.success(res.data.meta.msg)\r\n        this.updateUserVisible = false\r\n        this.getUsersList()\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n    },\r\n    // 获取用户列表{网络请求}\r\n    getUsersList (pageNum = this.pageNum, pageSize = this.pageSize, query = this.query) {\r\n      getUsersList(pageNum, pageSize, query).then(res => {\r\n        if (res.data.meta.status !== 200) return this.$message.error(res.data.meta.msg)\r\n        this.usersList = res.data.data.users\r\n        this.total = res.data.data.total\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n    },\r\n    // 根据id删除用户{网络请求}\r\n    deleteUserById (id) {\r\n      deleteUserById(id).then(res => {\r\n        if (res.data.meta.status !== 200) return this.$message.error(res.data.meta.msg)\r\n        this.$message.success(res.data.meta.msg)\r\n        this.getUsersList()\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n    },\r\n    // 根据id查询用户{网络请求}\r\n    getUserFromId (id) {\r\n      getUserFromId(id).then(res => {\r\n        console.log(res)\r\n        this.updateUserForm = res.data.data\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Users.vue?vue&type=template&id=2f376048&scoped=true&\"\nimport script from \"./Users.vue?vue&type=script&lang=js&\"\nexport * from \"./Users.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f376048\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}