(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["goodsCom"],{"03a4":function(t,e,a){"use strict";var r=a("7fc0"),n=a.n(r);n.a},"10ba":function(t,e,a){},1276:function(t,e,a){"use strict";var r=a("d784"),n=a("44e7"),o=a("825a"),i=a("1d80"),s=a("4840"),c=a("8aa5"),l=a("50c4"),d=a("14c3"),u=a("9263"),m=a("d039"),g=[].push,p=Math.min,f=4294967295,h=!m((function(){return!RegExp(f,"y")}));r("split",2,(function(t,e,a){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,a){var r=String(i(this)),o=void 0===a?f:a>>>0;if(0===o)return[];if(void 0===t)return[r];if(!n(t))return e.call(r,t,o);var s,c,l,d=[],m=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,h=new RegExp(t.source,m+"g");while(s=u.call(h,r)){if(c=h.lastIndex,c>p&&(d.push(r.slice(p,s.index)),s.length>1&&s.index<r.length&&g.apply(d,s.slice(1)),l=s[0].length,p=c,d.length>=o))break;h.lastIndex===s.index&&h.lastIndex++}return p===r.length?!l&&h.test("")||d.push(""):d.push(r.slice(p)),d.length>o?d.slice(0,o):d}:"0".split(void 0,0).length?function(t,a){return void 0===t&&0===a?[]:e.call(this,t,a)}:e,[function(e,a){var n=i(this),o=void 0==e?void 0:e[t];return void 0!==o?o.call(e,n,a):r.call(String(n),e,a)},function(t,n){var i=a(r,t,this,n,r!==e);if(i.done)return i.value;var u=o(t),m=String(this),g=s(u,RegExp),b=u.unicode,v=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(h?"y":"g"),y=new g(h?u:"^(?:"+u.source+")",v),_=void 0===n?f:n>>>0;if(0===_)return[];if(0===m.length)return null===d(y,m)?[m]:[];var C=0,x=0,w=[];while(x<m.length){y.lastIndex=h?x:0;var k,F=d(y,h?m:m.slice(x));if(null===F||(k=p(l(y.lastIndex+(h?0:x)),m.length))===C)x=c(m,x,b);else{if(w.push(m.slice(C,x)),w.length===_)return w;for(var I=1;I<=F.length-1;I++)if(w.push(F[I]),w.length===_)return w;x=C=k}}return w.push(m.slice(C)),w}]}),!h)},"14c3":function(t,e,a){var r=a("c6b6"),n=a("9263");t.exports=function(t,e){var a=t.exec;if("function"===typeof a){var o=a.call(t,e);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},"159b":function(t,e,a){var r=a("da84"),n=a("fdbc"),o=a("17c2"),i=a("9112");for(var s in n){var c=r[s],l=c&&c.prototype;if(l&&l.forEach!==o)try{i(l,"forEach",o)}catch(d){l.forEach=o}}},"17c2":function(t,e,a){"use strict";var r=a("b727").forEach,n=a("a640"),o=a("ae40"),i=n("forEach"),s=o("forEach");t.exports=i&&s?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},"1bab":function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));var r=a("cebe"),n=a.n(r),o=a("1af2"),i=a.n(o);function s(t){var e=n.a.create({baseURL:"http://timemeetyou.com:8889/api/private/v1",timeout:5e3});return e.interceptors.request.use((function(t){return i.a.start(),t.headers.Authorization=window.sessionStorage.getItem("token"),t}),(function(t){})),e.interceptors.response.use((function(t){return i.a.done(),t}),(function(t){})),e(t)}},"1be0":function(t,e,a){"use strict";var r=a("10ba"),n=a.n(r);n.a},"2aaf":function(t,e,a){"use strict";a.d(e,"d",(function(){return n})),a.d(e,"e",(function(){return o})),a.d(e,"a",(function(){return i})),a.d(e,"c",(function(){return s})),a.d(e,"b",(function(){return c}));var r=a("1bab");function n(t,e){return Object(r["a"])({url:"categories/"+t+"/attributes",method:"get",params:{sel:e}})}function o(t,e,a,n){return Object(r["a"])({url:"categories/"+t+"/attributes/"+e,method:"get",params:{attr_sel:a,attr_vals:n}})}function i(t,e,a,n){return Object(r["a"])({url:"categories/"+t+"/attributes",method:"post",data:{attr_name:e,attr_sel:a,attr_vals:n}})}function s(t,e,a,n,o){return Object(r["a"])({url:"categories/"+t+"/attributes/"+e,method:"put",data:{attr_name:a,attr_sel:n,attr_vals:o}})}function c(t,e){return Object(r["a"])({url:"categories/"+t+"/attributes/"+e,method:"delete"})}},"2fa5":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Categories"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/welcome"}}},[t._v("首页")]),a("el-breadcrumb-item",[t._v("商品管理")]),a("el-breadcrumb-item",[t._v("分类参数")])],1),a("el-card",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary"},on:{click:t.addCategoryClick}},[t._v("添加分类")])],1)],1),a("tree-table",{attrs:{data:t.categoriesData,columns:t.columns,"selection-type":!1,"expand-type":!1,"show-index":!0,"index-text":"#","show-row-hover":!1,border:""},scopedSlots:t._u([{key:"isOk",fn:function(e){return[!1===e.row.cat_deleted?a("i",{staticClass:"el-icon-success",staticStyle:{color:"lightgreen"}}):t._e(),!0===e.row.cat_deleted?a("i",{staticClass:"el-icon-error",staticStyle:{color:"red"}}):t._e()]}},{key:"order",fn:function(e){return[0==e.row.cat_level?a("el-tag",{attrs:{size:"mini"}},[t._v("一级")]):1==e.row.cat_level?a("el-tag",{attrs:{type:"success",size:"mini"}},[t._v("二级")]):2==e.row.cat_level?a("el-tag",{attrs:{type:"warning",size:"mini"}},[t._v("三级")]):t._e()]}},{key:"option",fn:function(e){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return t.updateCategoriesByIdClick(e.row.cat_id,e.row.cat_name)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return t.deleteCategoriesByIdClick(e.row.cat_id)}}},[t._v("删除")])]}}])}),a("el-pagination",{attrs:{"current-page":t.pageNum,"page-sizes":[1,2,5,10],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.categoriesSizeChange,"current-change":t.categoriesCurrentChange}})],1),a("el-dialog",{attrs:{title:"添加分类",visible:t.addCategoryVisible,width:"60%"},on:{"update:visible":function(e){t.addCategoryVisible=e},close:t.addCategoryClose}},[a("el-form",{ref:"addCategoryForm",attrs:{model:t.addCategoryForm,rules:t.addCategoryRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"分类名称",prop:"cat_name"}},[a("el-input",{model:{value:t.addCategoryForm.cat_name,callback:function(e){t.$set(t.addCategoryForm,"cat_name",e)},expression:"addCategoryForm.cat_name"}})],1),a("el-form-item",{attrs:{label:"父级分类"}},[a("el-cascader",{attrs:{options:t.categoriesParentData,props:t.categoriesProps,clearable:""},on:{change:t.parentCateChange},model:{value:t.selectKeys,callback:function(e){t.selectKeys=e},expression:"selectKeys"}})],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addCategoryVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addCategorySubmit}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"修改分类",visible:t.updateCategoryVisible,width:"60%"},on:{close:t.updateCategoryClose}},[a("el-form",{ref:"updateCategoryForm",attrs:{model:t.updateCategoryForm,rules:t.updateCategoryRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"分类名称",prop:"cat_name"}},[a("el-input",{model:{value:t.updateCategoryForm.cat_name,callback:function(e){t.$set(t.updateCategoryForm,"cat_name",e)},expression:"updateCategoryForm.cat_name"}})],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.updateCategoryVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.updateCategorySubmit}},[t._v("确 定")])],1)],1)],1)},n=[],o=a("b8da"),i={name:"Categories",data:function(){return{categoriesData:[],columns:[{label:"分类名称",prop:"cat_name"},{label:"是否有效",prop:"cat_deleted",type:"template",template:"isOk"},{label:"排序",prop:"cat_level",type:"template",template:"order"},{label:"操作",width:"200px",minwidth:"200px",type:"template",template:"option"}],type:3,pageNum:1,pageSize:10,total:0,updateCategoryVisible:!1,updateCategoryForm:{cat_name:"",cat_id:0},updateCategoryRules:{cat_name:[{required:!0,message:"请输入分类名称",trigger:"blur"}]},addCategoryVisible:!1,addCategoryForm:{cat_name:"",cat_pid:0,cat_level:0},addCategoryRules:{cat_name:[{required:!0,message:"请输入分类名称",trigger:"blur"}]},categoriesParentData:[],categoriesProps:{expandTrigger:"hover",value:"cat_id",label:"cat_name",children:"children",checkStrictly:!0},selectKeys:[]}},created:function(){this.getCategories()},methods:{parentCateChange:function(){this.selectKeys.length>0?(this.addCategoryForm.cat_pid=this.selectKeys[this.selectKeys.length-1],this.addCategoryForm.cat_level=this.selectKeys.length):(this.addCategoryForm.cat_pid=0,this.addCategoryForm.cat_level=0)},addCategoryClose:function(){this.addCategoryForm.cat_name="",this.selectKeys="",this.addCategoryVisible=!1},updateCategoryClose:function(){this.updateCategoryForm.cat_name="",this.updateCategoryVisible=!1},addCategorySubmit:function(){var t=this;this.$refs.addCategoryForm.validate((function(e){if(!e)return!1;t.addCategories(),t.addCategoryVisible=!1}))},updateCategorySubmit:function(){var t=this;this.$refs.updateCategoryForm.validate((function(e){if(!e)return!1;t.updateCategories(),t.updateCategoryVisible=!1}))},categoriesSizeChange:function(t){this.pageSize=t,this.getCategories()},categoriesCurrentChange:function(t){this.pageNum=t,this.getCategories()},addCategoryClick:function(){this.addCategoryVisible=!0,this.getCategories(2,"","")},updateCategoriesByIdClick:function(t,e){this.updateCategoryForm.cat_id=t,this.updateCategoryForm.cat_name=e,this.updateCategoryVisible=!0},deleteCategoriesByIdClick:function(t){this.deleteCategoriesById(t)},getCategories:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.type,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.pageNum,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.pageSize;Object(o["c"])(e,a,r).then((function(a){if(200!==a.data.meta.status)return t.$message.error(a.data.meta.msg);2===e?t.categoriesParentData=a.data.data:(t.categoriesData=a.data.data.result,t.total=a.data.data.total)})).catch((function(t){}))},addCategories:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.addCategoryForm.cat_pid,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.addCategoryForm.cat_name,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.addCategoryForm.cat_level;Object(o["a"])(e,a,r).then((function(e){if(201!==e.data.meta.status)return t.$message.error(e.data.meta.msg);t.$message.success(e.data.meta.msg),t.getCategories()})).catch((function(t){}))},deleteCategoriesById:function(t){var e=this;Object(o["b"])(t).then((function(t){e.$confirm("此操作将永久取消该分类, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){if(200!==t.data.meta.status)return e.$message.error(t.data.meta.msg);e.$message.success(t.data.meta.msg),e.getCategories()})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))})).catch((function(t){}))},updateCategories:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.updateCategoryForm.cat_id,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.updateCategoryForm.cat_name;Object(o["d"])(e,a).then((function(e){if(200!==e.data.meta.status)return t.$message.error(e.data.meta.msg);t.$message.success(e.data.meta.msg),t.getCategories()})).catch((function(t){}))}}},s=i,c=(a("5d84"),a("2877")),l=Object(c["a"])(s,r,n,!1,null,"74059298",null);e["default"]=l.exports},4160:function(t,e,a){"use strict";var r=a("23e7"),n=a("17c2");r({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},"44e7":function(t,e,a){var r=a("861d"),n=a("c6b6"),o=a("b622"),i=o("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==n(t))}},"498a":function(t,e,a){"use strict";var r=a("23e7"),n=a("58a8").trim,o=a("c8d2");r({target:"String",proto:!0,forced:o("trim")},{trim:function(){return n(this)}})},"52b7":function(t,e,a){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var r=a("1d80"),n=a("5899"),o="["+n+"]",i=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),c=function(t){return function(e){var a=String(r(e));return 1&t&&(a=a.replace(i,"")),2&t&&(a=a.replace(s,"")),a}};t.exports={start:c(1),end:c(2),trim:c(3)}},"5d84":function(t,e,a){"use strict";var r=a("52b7"),n=a.n(r);n.a},6547:function(t,e,a){var r=a("a691"),n=a("1d80"),o=function(t){return function(e,a){var o,i,s=String(n(e)),c=r(a),l=s.length;return c<0||c>=l?t?"":void 0:(o=s.charCodeAt(c),o<55296||o>56319||c+1===l||(i=s.charCodeAt(c+1))<56320||i>57343?t?s.charAt(c):o:t?s.slice(c,c+2):i-56320+(o-55296<<10)+65536)}};t.exports={codeAt:o(!1),charAt:o(!0)}},6906:function(t,e,a){"use strict";a.d(e,"c",(function(){return n})),a.d(e,"b",(function(){return o})),a.d(e,"a",(function(){return i}));var r=a("1bab");function n(t,e,a){return Object(r["a"])({url:"goods",method:"get",params:{query:t,pagenum:e,pagesize:a}})}function o(t){return Object(r["a"])({url:"goods/"+t,method:"delete"})}function i(t){return Object(r["a"])({url:"goods",method:"post",data:{goods_name:t.goods_name,goods_cat:t.goods_cat,goods_price:t.goods_price,goods_number:t.goods_number,goods_weight:t.goods_weight,goods_introduce:t.goods_introduce,pics:t.pics,attrs:t.attrs}})}},7156:function(t,e,a){var r=a("861d"),n=a("d2bb");t.exports=function(t,e,a){var o,i;return n&&"function"==typeof(o=e.constructor)&&o!==a&&r(i=o.prototype)&&i!==a.prototype&&n(t,i),t}},"7e6b":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"goodsAdd"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/welcome"}}},[t._v("首页")]),a("el-breadcrumb-item",[t._v("商品管理")]),a("el-breadcrumb-item",[t._v("商品列表")]),a("el-breadcrumb-item",[t._v("添加商品")])],1),a("el-card",[a("el-alert",{attrs:{title:"添加商品信息",type:"info",center:"","show-icon":"",closable:!1}}),a("el-steps",{attrs:{active:t.activeIndex-0,"finish-status":"success","align-center":""}},[a("el-step",{attrs:{title:"商品信息"}}),a("el-step",{attrs:{title:"商品参数"}}),a("el-step",{attrs:{title:"商品属性"}}),a("el-step",{attrs:{title:"商品图片"}}),a("el-step",{attrs:{title:"商品内容"}}),a("el-step",{attrs:{title:"完成"}})],1),a("el-form",{ref:"addGoodFormRef",attrs:{rules:t.addGoodRules,model:t.addGoodForm,"label-position":"top","label-width":"100px"}},[a("el-tabs",{attrs:{"tab-position":"left","before-leave":t.beforeTabsLeave},on:{"tab-click":t.tabClick},model:{value:t.activeIndex,callback:function(e){t.activeIndex=e},expression:"activeIndex"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"0"}},[a("el-form-item",{attrs:{label:"商品名称",prop:"goods_name"}},[a("el-input",{model:{value:t.addGoodForm.goods_name,callback:function(e){t.$set(t.addGoodForm,"goods_name",e)},expression:"addGoodForm.goods_name"}})],1),a("el-form-item",{attrs:{label:"商品价格",prop:"goods_price"}},[a("el-input",{attrs:{type:"number"},model:{value:t.addGoodForm.goods_price,callback:function(e){t.$set(t.addGoodForm,"goods_price",e)},expression:"addGoodForm.goods_price"}})],1),a("el-form-item",{attrs:{label:"商品数量",prop:"goods_number"}},[a("el-input",{model:{value:t.addGoodForm.goods_number,callback:function(e){t.$set(t.addGoodForm,"goods_number",e)},expression:"addGoodForm.goods_number"}})],1),a("el-form-item",{attrs:{label:"商品重量",prop:"goods_weight"}},[a("el-input",{model:{value:t.addGoodForm.goods_weight,callback:function(e){t.$set(t.addGoodForm,"goods_weight",e)},expression:"addGoodForm.goods_weight"}})],1),a("el-form-item",{attrs:{label:"商品分类"}},[a("el-cascader",{attrs:{options:t.categoriesData,props:t.categoriesProps,clearable:""},on:{change:t.handleChange},model:{value:t.addGoodForm.goods_cat,callback:function(e){t.$set(t.addGoodForm,"goods_cat",e)},expression:"addGoodForm.goods_cat"}})],1)],1),a("el-tab-pane",{attrs:{label:"商品参数",name:"1"}},t._l(t.manyTableData,(function(e){return a("el-form-item",{key:e.attr_id,attrs:{label:e.attr_name}},[a("el-checkbox-group",{model:{value:e.attr_vals,callback:function(a){t.$set(e,"attr_vals",a)},expression:"item.attr_vals"}},t._l(e.attr_vals,(function(t,e){return a("el-checkbox",{key:e,attrs:{label:t,border:""}})})),1)],1)})),1),a("el-tab-pane",{attrs:{label:"商品属性",name:"2"}},t._l(t.onlyTableData,(function(e){return a("el-form-item",{key:e.attr_id,attrs:{label:e.attr_name}},[a("el-input",{model:{value:e.attr_vals,callback:function(a){t.$set(e,"attr_vals",a)},expression:"item.attr_vals"}})],1)})),1),a("el-tab-pane",{attrs:{label:"商品图片",name:"3"}},[a("el-upload",{attrs:{action:t.uploadURL,"on-preview":t.handlePreview,"on-remove":t.handleRemove,"list-type":"picture",headers:t.headersOBJ,"on-success":t.handleSuccess}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),a("div",{attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),a("el-tab-pane",{attrs:{label:"商品内容",name:"4"}},[a("quill-editor",{model:{value:t.addGoodForm.goods_introduce,callback:function(e){t.$set(t.addGoodForm,"goods_introduce",e)},expression:"addGoodForm.goods_introduce"}}),a("el-button",{staticClass:"addBtn",attrs:{type:"primary"},on:{click:t.submitAdd}},[t._v("添加商品 ")])],1)],1)],1)],1),a("el-dialog",{attrs:{title:"图片预览",visible:t.previewVisible,width:"50%"},on:{"update:visible":function(e){t.previewVisible=e}}},[a("img",{staticClass:"imgWidth",attrs:{src:t.previewPath,alt:""}})])],1)},n=[],o=(a("c740"),a("4160"),a("a15b"),a("a434"),a("ac1f"),a("1276"),a("159b"),a("b8da")),i=a("2aaf"),s=a("6906"),c=a("60bb"),l=a.n(c),d={name:"GoodsAdd",components:{},data:function(){return{activeIndex:"0",addGoodForm:{goods_name:"",goods_price:0,goods_number:0,goods_weight:0,goods_cat:[],goods_introduce:"",attrs:[],pics:[]},addGoodRules:{goods_name:[{required:!0,message:"请输入商品名称",trigger:"blur"}],goods_price:[{required:!0,message:"请输入商品价格",trigger:"blur"}],goods_number:[{required:!0,message:"请输入商品数量",trigger:"blur"}],goods_weight:[{required:!0,message:"请输入商品重量",trigger:"blur"}]},categoriesData:[],categoriesProps:{expandTrigger:"hover",label:"cat_name",value:"cat_id",children:"children"},manyTableData:[],onlyTableData:[],uploadURL:"http://timemeetyou.com:8889/api/private/v1/upload",headersOBJ:{Authorization:window.sessionStorage.getItem("token")},previewPath:"",previewVisible:!1}},computed:{cateId:function(){return 3===this.addGoodForm.goods_cat.length?this.addGoodForm.goods_cat[2]:null}},watch:{},methods:{submitAdd:function(){var t=this;this.$refs.addGoodFormRef.validate((function(e){if(!e)return t.$message.error("请填写必要的信息项!"),!1;var a=l.a.cloneDeep(t.addGoodForm);a.goods_cat=a.goods_cat.join(","),t.manyTableData.forEach((function(t){var e={attr_id:t.attr_id,attr_value:t.attr_vals.join(" ")};a.attrs.push(e)})),t.onlyTableData.forEach((function(t){var e={attr_id:t.attr_id,attr_value:t.attr_vals};a.attrs.push(e)})),t.addGood(a)}))},handleRemove:function(t){var e=t.response.data.tmp_path,a=this.addGoodForm.pics.findIndex((function(t){return t.pics===e}));this.addGoodForm.pics.splice(a,1)},handlePreview:function(t){this.previewPath=t.response.data.url,this.previewVisible=!0},handleSuccess:function(t){var e={pic:t.data.tmp_path};this.addGoodForm.pics.push(e)},tabClick:function(){"1"===this.activeIndex?this.getAttributesById(this.cateId,"many"):"2"===this.activeIndex&&this.getAttributesById(this.cateId,"only")},beforeTabsLeave:function(t,e){if("0"===e&&3!==this.addGoodForm.goods_cat.length)return this.$message.error("请选择商品分类"),!1},handleChange:function(){},getCategories:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Object(o["c"])(e,a,r).then((function(e){if(200!==e.data.meta.status)return t.$message.error(e.data.meta.msg);t.$message.success(e.data.meta.msg),t.categoriesData=e.data.data})).catch((function(t){}))},getAttributesById:function(t,e){var a=this;Object(i["d"])(t,e).then((function(t){if(200!==t.data.meta.status)return a.$message.error(t.data.meta.msg);t.data.data.length>0&&"many"===e&&t.data.data.forEach((function(t){t.attr_vals=0===t.attr_vals.length?[]:t.attr_vals.split(",")})),"only"===e?a.onlyTableData=t.data.data:a.manyTableData=t.data.data})).catch((function(t){}))},addGood:function(t){var e=this;Object(s["a"])(t).then((function(t){if(201!==t.data.meta.status)return e.$message.error(t.data.meta.msg);e.$message.success(t.data.meta.msg),e.$router.push("/goods")})).catch((function(t){}))}},created:function(){this.getCategories()},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},u=d,m=(a("03a4"),a("2877")),g=Object(m["a"])(u,r,n,!1,null,"09cc9ce0",null);e["default"]=g.exports},"7fc0":function(t,e,a){},"8aa5":function(t,e,a){"use strict";var r=a("6547").charAt;t.exports=function(t,e,a){return e+(a?r(t,e).length:1)}},9263:function(t,e,a){"use strict";var r=a("ad6d"),n=a("9f7f"),o=RegExp.prototype.exec,i=String.prototype.replace,s=o,c=function(){var t=/a/,e=/b*/g;return o.call(t,"a"),o.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),l=n.UNSUPPORTED_Y||n.BROKEN_CARET,d=void 0!==/()??/.exec("")[1],u=c||d||l;u&&(s=function(t){var e,a,n,s,u=this,m=l&&u.sticky,g=r.call(u),p=u.source,f=0,h=t;return m&&(g=g.replace("y",""),-1===g.indexOf("g")&&(g+="g"),h=String(t).slice(u.lastIndex),u.lastIndex>0&&(!u.multiline||u.multiline&&"\n"!==t[u.lastIndex-1])&&(p="(?: "+p+")",h=" "+h,f++),a=new RegExp("^(?:"+p+")",g)),d&&(a=new RegExp("^"+p+"$(?!\\s)",g)),c&&(e=u.lastIndex),n=o.call(m?a:u,h),m?n?(n.input=n.input.slice(f),n[0]=n[0].slice(f),n.index=u.lastIndex,u.lastIndex+=n[0].length):u.lastIndex=0:c&&n&&(u.lastIndex=u.global?n.index+n[0].length:e),d&&n&&n.length>1&&i.call(n[0],a,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(n[s]=void 0)})),n}),t.exports=s},"9f7f":function(t,e,a){"use strict";var r=a("d039");function n(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=n("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=n("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a15b:function(t,e,a){"use strict";var r=a("23e7"),n=a("44ad"),o=a("fc6a"),i=a("a640"),s=[].join,c=n!=Object,l=i("join",",");r({target:"Array",proto:!0,forced:c||!l},{join:function(t){return s.call(o(this),void 0===t?",":t)}})},a434:function(t,e,a){"use strict";var r=a("23e7"),n=a("23cb"),o=a("a691"),i=a("50c4"),s=a("7b0b"),c=a("65f0"),l=a("8418"),d=a("1dde"),u=a("ae40"),m=d("splice"),g=u("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,f=Math.min,h=9007199254740991,b="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!m||!g},{splice:function(t,e){var a,r,d,u,m,g,v=s(this),y=i(v.length),_=n(t,y),C=arguments.length;if(0===C?a=r=0:1===C?(a=0,r=y-_):(a=C-2,r=f(p(o(e),0),y-_)),y+a-r>h)throw TypeError(b);for(d=c(v,r),u=0;u<r;u++)m=_+u,m in v&&l(d,u,v[m]);if(d.length=r,a<r){for(u=_;u<y-r;u++)m=u+r,g=u+a,m in v?v[g]=v[m]:delete v[g];for(u=y;u>y-r+a;u--)delete v[u-1]}else if(a>r)for(u=y-r;u>_;u--)m=u+r-1,g=u+a-1,m in v?v[g]=v[m]:delete v[g];for(u=0;u<a;u++)v[u+_]=arguments[u+2];return v.length=y-r+a,d}})},a640:function(t,e,a){"use strict";var r=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&r((function(){a.call(null,e||function(){throw 1},1)}))}},a6c8:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"goods"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/welcome"}}},[t._v("首页")]),a("el-breadcrumb-item",[t._v("商品管理")]),a("el-breadcrumb-item",[t._v("商品列表")])],1),a("el-card",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},on:{clear:t.queryClick},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.queryClick},slot:"append"})],1)],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary"},on:{click:t.addGoodClick}},[t._v("添加商品")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.goodsData,stripe:"",border:""}},[a("el-table-column",{attrs:{type:"index",label:"#",index:t.index}}),a("el-table-column",{attrs:{prop:"goods_name",label:"商品名称","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"goods_price",label:"商品价格",width:"100"}}),a("el-table-column",{attrs:{prop:"goods_weight",label:"商品重量",width:"80"}}),a("el-table-column",{attrs:{prop:"add_time",label:"创建时间",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t._f("dataFormat")(e.row.add_time))+" ")]}}])}),a("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return t.console.log(e.row.goods_id)}}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return t.deleteGoodFromId(e.row.goods_id)}}})]}}])})],1),a("el-pagination",{attrs:{"current-page":t.pageNum,"page-sizes":[1,2,5,10],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.goodsSizeChange,"current-change":t.goodsCurrentChange}})],1)],1)},n=[],o=(a("a9e3"),a("6906")),i={name:"Goods",data:function(){return{query:"",pageNum:1,pageSize:10,total:0,goodsData:[]}},created:function(){this.getGoods()},methods:{index:function(t){return(this.pageNum-1)*this.pageSize+t+1},queryClick:function(){this.getGoods(this.query,1)},addGoodClick:function(){this.$router.push("/goods/add")},goodsSizeChange:function(t){this.pageSize=Number(t),this.getGoods()},goodsCurrentChange:function(t){this.pageNum=Number(t),this.getGoods()},getGoods:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.query,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.pageNum,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.pageSize;Object(o["c"])(e,a,r).then((function(e){if(200!==e.data.meta.status)return t.$message.error(e.data.meta.msg);t.goodsData=e.data.data.goods,t.total=e.data.data.total})).catch((function(t){}))},deleteGoodFromId:function(t){var e=this;this.$confirm("此操作将永久删除该参数, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["b"])(t).then((function(t){if(200!==t.data.meta.status)return e.$message.error(t.data.meta.msg);e.$message.success(t.data.meta.msg),e.getGoods()})).catch((function(t){}))})).catch((function(t){}))}}},s=i,c=a("2877"),l=Object(c["a"])(s,r,n,!1,null,"6b167cdf",null);e["default"]=l.exports},a9e3:function(t,e,a){"use strict";var r=a("83ab"),n=a("da84"),o=a("94ca"),i=a("6eeb"),s=a("5135"),c=a("c6b6"),l=a("7156"),d=a("c04e"),u=a("d039"),m=a("7c73"),g=a("241c").f,p=a("06cf").f,f=a("9bf2").f,h=a("58a8").trim,b="Number",v=n[b],y=v.prototype,_=c(m(y))==b,C=function(t){var e,a,r,n,o,i,s,c,l=d(t,!1);if("string"==typeof l&&l.length>2)if(l=h(l),e=l.charCodeAt(0),43===e||45===e){if(a=l.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+l}for(o=l.slice(2),i=o.length,s=0;s<i;s++)if(c=o.charCodeAt(s),c<48||c>n)return NaN;return parseInt(o,r)}return+l};if(o(b,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var x,w=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof w&&(_?u((function(){y.valueOf.call(a)})):c(a)!=b)?l(new v(C(e)),a,w):C(e)},k=r?g(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),F=0;k.length>F;F++)s(v,x=k[F])&&!s(w,x)&&f(w,x,p(v,x));w.prototype=y,y.constructor=w,i(n,b,w)}},ac1f:function(t,e,a){"use strict";var r=a("23e7"),n=a("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},ad6d:function(t,e,a){"use strict";var r=a("825a");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b0c0:function(t,e,a){var r=a("83ab"),n=a("9bf2").f,o=Function.prototype,i=o.toString,s=/^\s*function ([^ (]*)/,c="name";r&&!(c in o)&&n(o,c,{configurable:!0,get:function(){try{return i.call(this).match(s)[1]}catch(t){return""}}})},b8da:function(t,e,a){"use strict";a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return o})),a.d(e,"b",(function(){return i})),a.d(e,"d",(function(){return s}));var r=a("1bab");function n(t,e,a){return Object(r["a"])({url:"categories",method:"get",params:{type:t,pagenum:e,pagesize:a}})}function o(t,e,a){return Object(r["a"])({url:"categories",method:"post",data:{cat_pid:t,cat_name:e,cat_level:a}})}function i(t){return Object(r["a"])({url:"categories/"+t,method:"delete"})}function s(t,e){return Object(r["a"])({url:"categories/"+t,method:"put",data:{cat_name:e}})}},c740:function(t,e,a){"use strict";var r=a("23e7"),n=a("b727").findIndex,o=a("44d2"),i=a("ae40"),s="findIndex",c=!0,l=i(s);s in[]&&Array(1)[s]((function(){c=!1})),r({target:"Array",proto:!0,forced:c||!l},{findIndex:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),o(s)},c8d2:function(t,e,a){var r=a("d039"),n=a("5899"),o="​᠎";t.exports=function(t){return r((function(){return!!n[t]()||o[t]()!=o||n[t].name!==t}))}},d784:function(t,e,a){"use strict";a("ac1f");var r=a("6eeb"),n=a("d039"),o=a("b622"),i=a("9263"),s=a("9112"),c=o("species"),l=!n((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),d=function(){return"$0"==="a".replace(/./,"$0")}(),u=o("replace"),m=function(){return!!/./[u]&&""===/./[u]("a","$0")}(),g=!n((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var a="ab".split(t);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));t.exports=function(t,e,a,u){var p=o(t),f=!n((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),h=f&&!n((function(){var e=!1,a=/a/;return"split"===t&&(a={},a.constructor={},a.constructor[c]=function(){return a},a.flags="",a[p]=/./[p]),a.exec=function(){return e=!0,null},a[p](""),!e}));if(!f||!h||"replace"===t&&(!l||!d||m)||"split"===t&&!g){var b=/./[p],v=a(p,""[t],(function(t,e,a,r,n){return e.exec===i?f&&!n?{done:!0,value:b.call(e,a,r)}:{done:!0,value:t.call(a,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:m}),y=v[0],_=v[1];r(String.prototype,t,y),r(RegExp.prototype,p,2==e?function(t,e){return _.call(t,this,e)}:function(t){return _.call(t,this)})}u&&s(RegExp.prototype[p],"sham",!0)}},f467:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"params"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/welcome"}}},[t._v("首页")]),a("el-breadcrumb-item",[t._v("商品管理")]),a("el-breadcrumb-item",[t._v("商品分类")])],1),a("el-card",[a("el-alert",{attrs:{title:"注意：只允许为第三级分类设置相关参数！",type:"warning"}}),a("el-row",[a("el-col",{attrs:{span:12}},[a("span",[t._v("选择商品分类：")]),a("el-cascader",{attrs:{options:t.categoriesData,props:t.categoriesProps,clearable:""},on:{change:t.categoriesChange},model:{value:t.selectKeys,callback:function(e){t.selectKeys=e},expression:"selectKeys"}})],1)],1),a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"动态参数",name:"dynamic"}},[a("el-row",[a("el-col",{attrs:{span:4}},[a("el-button",{staticClass:"add-attr",attrs:{type:"primary",size:"mini",disabled:t.isBtnDisplay},on:{click:t.openAdd}},[t._v(" "+t._s("添加"+t.paramsOrAttr)+" ")])],1),a("el-table",{attrs:{data:t.dynamicData,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._l(e.row.attr_vals,(function(r,n){return a("el-tag",{key:n,attrs:{closable:"","disable-transitions":!1},on:{close:function(a){return t.handleClose(n,e.row)}}},[t._v(" "+t._s(r)+" ")])})),e.row.inputVisible?a("el-input",{ref:"saveTagInput",staticClass:"inputTag",attrs:{size:"small"},on:{blur:function(a){return t.handleInputConfirm(e.row)}},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.handleInputConfirm(e.row)}},model:{value:e.row.inputValue,callback:function(a){t.$set(e.row,"inputValue",a)},expression:"scope.row.inputValue"}}):a("el-button",{attrs:{size:"small"},on:{click:function(a){return t.showInput(e.row)}}},[t._v("+ New Tag ")])]}}])}),a("el-table-column",{attrs:{type:"index",label:"#"}}),a("el-table-column",{attrs:{prop:"attr_name",label:"属性名称"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{icon:"el-icon-edit",type:"primary",size:"mini"},on:{click:function(a){return t.openEdit(e.row)}}},[t._v("修改 ")]),a("el-button",{attrs:{icon:"el-icon-delete",type:"danger",size:"mini"},on:{click:function(a){return t.deleteByAttrId(e.row)}}},[t._v("删除 ")])]}}])})],1)],1)],1),a("el-tab-pane",{attrs:{label:"静态属性",name:"static"}},[a("el-row",[a("el-col",{attrs:{span:4}},[a("el-button",{staticClass:"add-attr",attrs:{type:"primary",size:"mini",disabled:t.isBtnDisplay},on:{click:t.openAdd}},[t._v(" "+t._s("添加"+t.paramsOrAttr)+" ")])],1),a("el-table",{attrs:{data:t.dynamicData,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._l(e.row.attr_vals,(function(r,n){return a("el-tag",{key:n,attrs:{closable:"","disable-transitions":!1},on:{close:function(a){return t.handleClose(n,e.row)}}},[t._v(" "+t._s(r)+" ")])})),e.row.inputVisible?a("el-input",{ref:"saveTagInput",staticClass:"inputTag",attrs:{size:"small"},on:{blur:function(a){return t.handleInputConfirm(e.row)}},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.handleInputConfirm(e.row)}},model:{value:e.row.inputValue,callback:function(a){t.$set(e.row,"inputValue",a)},expression:"scope.row.inputValue"}}):a("el-button",{attrs:{size:"small"},on:{click:function(a){return t.showInput(e.row)}}},[t._v("+ New Tag ")])]}}])}),a("el-table-column",{attrs:{type:"index",label:"#"}}),a("el-table-column",{attrs:{prop:"attr_name",label:"属性名称"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{icon:"el-icon-edit",type:"primary",size:"mini"},on:{click:function(a){return t.openEdit(e.row)}}},[t._v("修改 ")]),a("el-button",{attrs:{icon:"el-icon-delete",type:"danger",size:"mini"},on:{click:function(a){return t.deleteByAttrId(e.row)}}},[t._v("删除 ")])]}}])})],1)],1)],1)],1)],1),a("el-dialog",{attrs:{title:"添加"+t.paramsOrAttr,visible:t.addParamsVisible,width:"50%"},on:{"update:visible":function(e){t.addParamsVisible=e},close:t.addParamsClose}},[a("el-form",{ref:"addForm",attrs:{model:t.addForm,rules:t.addrules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:t.paramsOrAttr,prop:"name"}},[a("el-input",{model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}})],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addParamsVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addFormSubmit}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"修改"+t.paramsOrAttr,visible:t.editParamsVisible,width:"50%"},on:{"update:visible":function(e){t.editParamsVisible=e},close:t.editParamsClose}},[a("el-form",{ref:"editForm",attrs:{model:t.editForm,rules:t.editrules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:t.paramsOrAttr,prop:"name"}},[a("el-input",{model:{value:t.editForm.name,callback:function(e){t.$set(t.editForm,"name",e)},expression:"editForm.name"}})],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.editParamsVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.editFormSubmit}},[t._v("确 定")])],1)],1)],1)},n=[],o=(a("4160"),a("a15b"),a("a434"),a("b0c0"),a("ac1f"),a("1276"),a("498a"),a("159b"),a("b8da")),i=a("2aaf"),s={name:"Params",data:function(){return{selectKeys:[],categoriesData:[],categoriesProps:{expandTrigger:"hover",value:"cat_id",label:"cat_name",children:"children"},activeName:"dynamic",dynamicData:[],addParamsVisible:!1,addForm:{name:""},addrules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}]},editParamsVisible:!1,editForm:{attrId:"",name:""},editrules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}]}}},created:function(){this.getCategories()},computed:{paramsOrAttr:function(){return"dynamic"===this.activeName?"动态参数":"静态属性"},isBtnDisplay:function(){return 3!==this.selectKeys.length}},methods:{handleClick:function(){if(!0===this.isBtnDisplay)return!1;var t=this.selectKeys[this.selectKeys.length-1],e="dynamic"===this.activeName?"many":"only";this.getAttributesById(t,e)},categoriesChange:function(){var t=this.selectKeys[this.selectKeys.length-1],e="dynamic"===this.activeName?"many":"only";this.getAttributesById(t,e)},handleClose:function(t,e){var a=this;this.$confirm("此操作将永久删除该参数,是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.attr_vals.splice(t,1),a.funcAddChangeTag(e)})).catch((function(t){}))},showInput:function(t){var e=this;t.inputVisible=!0,this.$nextTick((function(t){e.$refs.saveTagInput.$refs.input.focus()}))},handleInputConfirm:function(t){if(0===t.inputValue.trim().length)return t.inputValue="",void(t.inputVisible=!1);t.attr_vals.push(t.inputValue.trim()),this.funcAddChangeTag(t)},funcAddChangeTag:function(t){var e=this.selectKeys[this.selectKeys.length-1],a=t.attr_vals.join(" ");this.editParams(e,t.attr_id,t.attr_name,t.attr_sel,a),t.inputVisible=!1,t.inputValue=""},openAdd:function(){this.addParamsVisible=!0},addParamsClose:function(){this.addForm.name="",this.addParamsVisible=!1},addFormSubmit:function(){var t=this;this.$refs.addForm.validate((function(e){if(!e)return!1;var a=t.selectKeys[t.selectKeys.length-1],r=t.addForm.name,n="dynamic"===t.activeName?"many":"only";t.addParams(a,r,n),t.addParamsVisible=!1}))},openEdit:function(t){this.editForm.name=t.attr_name,this.editForm.attrId=t.attr_id,this.editParamsVisible=!0},editParamsClose:function(){this.editForm.name="",this.editForm.attrId="",this.editParamsVisible=!1},editFormSubmit:function(){var t=this;this.$refs.editForm.validate((function(e){if(!e)return!1;var a=t.selectKeys[t.selectKeys.length-1],r=t.editForm.attrId,n=t.editForm.name,o="dynamic"===t.activeName?"many":"only";t.editParams(a,r,n,o),t.editParamsVisible=!1}))},getCategories:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Object(o["c"])(e,a,r).then((function(e){if(200!==e.data.meta.status)return t.$message.error(e.data.meta.msg);t.categoriesData=e.data.data})).catch((function(t){}))},getAttributesById:function(t,e){var a=this;Object(i["d"])(t,e).then((function(t){if(200!==t.data.meta.status)return a.$message.error(t.data.meta.msg);t.data.data.forEach((function(t){t.attr_vals=t.attr_vals?t.attr_vals.split(" "):[],t.inputVisible=!1,t.inputValue=""})),a.dynamicData=t.data.data})).catch((function(t){}))},getParamsByAttrId:function(t,e,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";Object(i["e"])(t,e,a,r).then((function(t){})).catch((function(t){}))},addParams:function(t,e,a){var r=this,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";Object(i["a"])(t,e,a,n).then((function(e){if(201!==e.data.meta.status)return r.$message.error(e.data.meta.msg);r.$message.success(e.data.meta.msg),r.getAttributesById(t,a)})).catch((function(t){}))},editParams:function(t,e,a,r){var n=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";Object(i["c"])(t,e,a,r,o).then((function(e){if(200!==e.data.meta.status)return n.$message.error(e.data.meta.msg);n.$message.success(e.data.meta.msg),""===o&&n.getAttributesById(t,r)})).catch((function(t){}))},deleteByAttrId:function(t){var e=this,a=this.selectKeys[this.selectKeys.length-1],r=t.attr_id,n="dynamic"===this.activeName?"many":"only";this.$confirm("此操作将永久删除该参数, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(i["b"])(a,r).then((function(t){if(200!==t.data.meta.status)return e.$message.error(t.data.meta.msg);e.$message.success(t.data.meta.msg),e.getAttributesById(a,n)})).catch((function(t){}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))}}},c=s,l=(a("1be0"),a("2877")),d=Object(l["a"])(c,r,n,!1,null,"7e6334d2",null);e["default"]=d.exports},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=goodsCom.5be2eacb.js.map